{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n// Utilities\nimport { computed } from 'vue';\nimport { convertToUnit, getCurrentInstanceName, propsFactory } from \"../util/index.mjs\"; // Types\n\nconst positionValues = ['static', 'relative', 'fixed', 'absolute', 'sticky']; // Composables\n\nexport const makePositionProps = propsFactory({\n  absolute: Boolean,\n  bottom: [Boolean, Number, String],\n  fixed: Boolean,\n  left: [Boolean, Number, String],\n  position: {\n    type: String,\n    validator:\n    /* istanbul ignore next */\n    v => positionValues.includes(v)\n  },\n  right: [Boolean, Number, String],\n  top: [Boolean, Number, String]\n}, 'position');\nexport function usePosition(props) {\n  let name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getCurrentInstanceName();\n  const targets = ['top', 'right', 'bottom', 'left'];\n  const positionClasses = computed(() => {\n    if (props.fixed) return `${name}--fixed`;\n    if (props.absolute) return `${name}--absolute`;\n    return props.position ? `position-${props.position}` : undefined;\n  });\n  const positionStyles = computed(() => {\n    const styles = {};\n\n    for (const target of targets) {\n      const prop = props[target];\n      if (prop == null || prop === false) continue;\n      styles[target] = convertToUnit(prop === true ? '0' : String(prop));\n    }\n\n    return styles;\n  });\n  return {\n    positionClasses,\n    positionStyles\n  };\n}","map":{"version":3,"mappings":";AAAA;AACA,SAASA,QAAT,QAAyB,KAAzB;SACSC,eAAeC,wBAAwBC,oB,qBAEhD;;AAGA,MAAMC,cAAc,GAAG,CAAC,QAAD,EAAW,UAAX,EAAuB,OAAvB,EAAgC,UAAhC,EAA4C,QAA5C,CAAvB,C,CAcA;;AACA,OAAO,MAAMC,iBAAiB,GAAGF,YAAY,CAAC;EAC5CG,QAAQ,EAAEC,OADkC;EAE5CC,MAAM,EAAE,CAACD,OAAD,EAAUE,MAAV,EAAkBC,MAAlB,CAFoC;EAG5CC,KAAK,EAAEJ,OAHqC;EAI5CK,IAAI,EAAE,CAACL,OAAD,EAAUE,MAAV,EAAkBC,MAAlB,CAJsC;EAK5CG,QAAQ,EAAE;IACRC,IAAI,EAAEJ,MADE;IAERK,SAAS;IAAE;IAA4BC,CAAD,IAAYZ,cAAc,CAACa,QAAfb,CAAwBY,CAAxBZ;EAF1C,CALkC;EAS5Cc,KAAK,EAAE,CAACX,OAAD,EAAUE,MAAV,EAAkBC,MAAlB,CATqC;EAU5CS,GAAG,EAAE,CAACZ,OAAD,EAAUE,MAAV,EAAkBC,MAAlB;AAVuC,CAAD,EAW1C,UAX0C,CAAtC;AAaP,OAAO,SAASU,WAAT,CACLC,KADK,EAGL;EAAA,IADAC,IACA,uEADOpB,sBAAsB,EAC7B;EACA,MAAMqB,OAAO,GAAG,CAAC,KAAD,EAAQ,OAAR,EAAiB,QAAjB,EAA2B,MAA3B,CAAhB;EAEA,MAAMC,eAAe,GAAGxB,QAAQ,CAAC,MAAM;IACrC,IAAIqB,KAAK,CAACV,KAAV,EAAiB,OAAQ,GAAEW,IAAK,SAAf;IACjB,IAAID,KAAK,CAACf,QAAV,EAAoB,OAAQ,GAAEgB,IAAK,YAAf;IAEpB,OAAOD,KAAK,CAACR,QAANQ,GAAkB,YAAWA,KAAK,CAACR,QAAS,EAA5CQ,GAAgDI,SAAvD;EAJ8B,EAAhC;EAOA,MAAMC,cAAc,GAAG1B,QAAQ,CAAC,MAAM;IACpC,MAAM2B,MAAuD,GAAG,EAAhE;;IAEA,KAAK,MAAMC,MAAX,IAAqBL,OAArB,EAA8B;MAC5B,MAAMM,IAAI,GAAGR,KAAK,CAACO,MAAD,CAAlB;MAEA,IAAIC,IAAI,IAAI,IAARA,IAAgBA,IAAI,KAAK,KAA7B,EAAoC;MAEpCF,MAAM,CAACC,MAAD,CAAND,GAAiB1B,aAAa,CAAC4B,IAAI,KAAK,IAATA,GAAgB,GAAhBA,GAAsBnB,MAAM,CAACmB,IAAD,CAA7B,CAA9BF;IACD;;IAED,OAAOA,MAAP;EAX6B,EAA/B;EAcA,OAAO;IAAEH,eAAF;IAAmBE;EAAnB,CAAP;AACD","names":["computed","convertToUnit","getCurrentInstanceName","propsFactory","positionValues","makePositionProps","absolute","Boolean","bottom","Number","String","fixed","left","position","type","validator","v","includes","right","top","usePosition","props","name","targets","positionClasses","undefined","positionStyles","styles","target","prop"],"sources":["../../src/composables/position.ts"],"sourcesContent":["// Utilities\nimport { computed } from 'vue'\nimport { convertToUnit, getCurrentInstanceName, propsFactory } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\n\nconst positionValues = ['static', 'relative', 'fixed', 'absolute', 'sticky'] as const\n\ntype Position = typeof positionValues[number]\n\nexport interface PositionProps {\n  absolute?: boolean\n  bottom?: boolean | number | string\n  fixed?: boolean\n  left?: boolean | number | string\n  position?: Position\n  right?: boolean | number | string\n  top?: boolean | number | string\n}\n\n// Composables\nexport const makePositionProps = propsFactory({\n  absolute: Boolean,\n  bottom: [Boolean, Number, String],\n  fixed: Boolean,\n  left: [Boolean, Number, String],\n  position: {\n    type: String as PropType<Position>,\n    validator: /* istanbul ignore next */ (v: any) => positionValues.includes(v),\n  },\n  right: [Boolean, Number, String],\n  top: [Boolean, Number, String],\n}, 'position')\n\nexport function usePosition (\n  props: PositionProps,\n  name = getCurrentInstanceName(),\n) {\n  const targets = ['top', 'right', 'bottom', 'left'] as const\n\n  const positionClasses = computed(() => {\n    if (props.fixed) return `${name}--fixed`\n    if (props.absolute) return `${name}--absolute`\n\n    return props.position ? `position-${props.position}` : undefined\n  })\n\n  const positionStyles = computed(() => {\n    const styles: Partial<Record<typeof targets[number], string>> = {}\n\n    for (const target of targets) {\n      const prop = props[target]\n\n      if (prop == null || prop === false) continue\n\n      styles[target] = convertToUnit(prop === true ? '0' : String(prop))\n    }\n\n    return styles\n  })\n\n  return { positionClasses, positionStyles }\n}\n"]},"metadata":{},"sourceType":"module"}